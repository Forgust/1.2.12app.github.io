{"ast":null,"code":"import _objectSpread from\"D:/projects/React/1.2.12/1.2.12/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{Component}from'react';import'./app.css';import Footer from'./component/footer';import NewTaskForm from'./component/new-task-form';import TaskList from'./component/task-list';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default class App extends Component{constructor(){super(...arguments);this.maxId=100;this.state={todoData:[],filter:'All'};this.deleteTask=id=>{this.setState(_ref=>{let{todoData}=_ref;const idx=todoData.findIndex(el=>el.id===id);const newArray=[...todoData.slice(0,idx),...todoData.slice(idx+1)];return{todoData:newArray};});};this.onTaskAdd=text=>{this.setState(_ref2=>{let{todoData}=_ref2;const newArray=[...todoData,this.createDataItem(text)];return{todoData:newArray};});};this.onToggleCompleted=id=>{this.setState(_ref3=>{let{todoData}=_ref3;return{todoData:this.toggleProperty(todoData,id,'completed')};});};this.onToggleEditing=id=>{this.setState(_ref4=>{let{todoData}=_ref4;return{todoData:this.toggleProperty(todoData,id,'editing')};});};this.changeFilter=text=>{this.setState({filter:text});};this.clearCompleted=()=>{this.setState(_ref5=>{let{todoData}=_ref5;const newArr=todoData.filter(el=>!el.completed);return{todoData:newArr};});};}createDataItem(text){return{label:text,editing:false,completed:false,id:this.maxId++,date:new Date()};}toggleProperty(arr,id,propName){const idx=arr.findIndex(el=>el.id===id);const oldItem=arr[idx];const newItem=_objectSpread(_objectSpread({},oldItem),{},{[propName]:!oldItem[propName]});return[...arr.slice(0,idx),newItem,...arr.slice(idx+1)];}render(){const{todoData,filter}=this.state;const completedArr=todoData.filter(el=>!el.completed);const count=completedArr.length;return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"todos\"}),/*#__PURE__*/_jsx(NewTaskForm,{onTaskAdd:this.onTaskAdd})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"main\",children:[/*#__PURE__*/_jsx(TaskList,{todos:todoData,onDeleted:this.deleteTask,onSave:this.save,onToggleCompleted:this.onToggleCompleted,onToggleEditing:this.onToggleEditing,filter:filter}),/*#__PURE__*/_jsx(Footer,{count:count,changeFilter:this.changeFilter,filter:filter,clearCompleted:this.clearCompleted})]})]});}}","map":{"version":3,"names":["React","Component","Footer","NewTaskForm","TaskList","jsx","_jsx","jsxs","_jsxs","App","constructor","arguments","maxId","state","todoData","filter","deleteTask","id","setState","_ref","idx","findIndex","el","newArray","slice","onTaskAdd","text","_ref2","createDataItem","onToggleCompleted","_ref3","toggleProperty","onToggleEditing","_ref4","changeFilter","clearCompleted","_ref5","newArr","completed","label","editing","date","Date","arr","propName","oldItem","newItem","_objectSpread","render","completedArr","count","length","className","children","todos","onDeleted","onSave","save"],"sources":["D:/projects/React/1.2.12/1.2.12/src/app.js"],"sourcesContent":["import React, { Component } from 'react'\n\nimport './app.css'\n\nimport Footer from './component/footer'\nimport NewTaskForm from './component/new-task-form'\nimport TaskList from './component/task-list'\n\nexport default class App extends Component {\n  maxId = 100\n  state = {\n    todoData: [],\n    filter: 'All',\n  }\n\n  createDataItem(text) {\n    return {\n      label: text,\n      editing: false,\n      completed: false,\n      id: this.maxId++,\n      date: new Date(),\n    }\n  }\n\n  toggleProperty(arr, id, propName) {\n    const idx = arr.findIndex((el) => el.id === id)\n    const oldItem = arr[idx]\n    const newItem = { ...oldItem, [propName]: !oldItem[propName] }\n    return [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)]\n  }\n\n  deleteTask = (id) => {\n    this.setState(({ todoData }) => {\n      const idx = todoData.findIndex((el) => el.id === id)\n      const newArray = [...todoData.slice(0, idx), ...todoData.slice(idx + 1)]\n\n      return {\n        todoData: newArray,\n      }\n    })\n  }\n\n  onTaskAdd = (text) => {\n    this.setState(({ todoData }) => {\n      const newArray = [...todoData, this.createDataItem(text)]\n\n      return {\n        todoData: newArray,\n      }\n    })\n  }\n\n  onToggleCompleted = (id) => {\n    this.setState(({ todoData }) => {\n      return {\n        todoData: this.toggleProperty(todoData, id, 'completed'),\n      }\n    })\n  }\n\n  onToggleEditing = (id) => {\n    this.setState(({ todoData }) => {\n      return {\n        todoData: this.toggleProperty(todoData, id, 'editing'),\n      }\n    })\n  }\n\n  changeFilter = (text) => {\n    this.setState({\n      filter: text,\n    })\n  }\n\n  clearCompleted = () => {\n    this.setState(({ todoData }) => {\n      const newArr = todoData.filter((el) => !el.completed)\n      return {\n        todoData: newArr,\n      }\n    })\n  }\n\n  render() {\n    const { todoData, filter } = this.state\n    const completedArr = todoData.filter((el) => !el.completed)\n    const count = completedArr.length\n\n    return (\n      <section className=\"todoapp\">\n        <header className=\"header\">\n          <h1>todos</h1>\n          <NewTaskForm onTaskAdd={this.onTaskAdd} />\n        </header>\n        <section className=\"main\">\n          <TaskList\n            todos={todoData}\n            onDeleted={this.deleteTask}\n            onSave={this.save}\n            onToggleCompleted={this.onToggleCompleted}\n            onToggleEditing={this.onToggleEditing}\n            filter={filter}\n          />\n          <Footer count={count} changeFilter={this.changeFilter} filter={filter} clearCompleted={this.clearCompleted} />\n        </section>\n      </section>\n    )\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}